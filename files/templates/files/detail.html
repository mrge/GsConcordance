{% extends "base_home.html" %}
{% load staticfiles %}

	{% block header %}
	<style>
		th.header { 
		    background-image: url({% static "bg.gif" %}); 
		    cursor: pointer; 
		    font-weight: bold; 
		    background-repeat: no-repeat; 
		    background-position: center right; 
		    padding-left: 20px; 
		    border-right: 1px solid #dad9c7; 
		    margin-left: -1px; 
		} 		
		th.headerSortUp { 
		    background-image: url({% static "asc.gif" %}); 
		} 		
		th.headerSortDown { 
		    background-image: url({% static "desc.gif" %}); 
		} 

	</style>
    {% endblock %}    

{% block container %}


		<aside class="span3">
		    <section>
		
                <a href='{% url 'detail' file.id %}'><h2>Book: <b>{{ file.title }}</b></h2></a>
		        <div class="divider"><span></span></div>
                <p>List of distinct words for book (file). Select word to see more information.</p>
		
		    </section>
		
		</aside>  
		<div class="panel-group" id="accordion">
		  <div class="panel panel-default">
		    <div class="panel-heading">
		      <h4 class="panel-title">
		        <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" class="collapsed">
		          View File Statistics
		          
		        </a>
		      </h4>
		    </div>
		    <div id="collapseOne" class="panel-collapse collapse in">
		      <div class="panel-body">
		        {% for stat in stats_list %}
					Average Number of Characters In Word: {{ stat.avg_wordlength }}<br>
					Minimum Number of Characters In Word: {{ stat.min_wordlength }}<br>
					Maximum Number of Characters In Word: {{ stat.max_wordlength }}<br>
					Average Number of Characters In Sentence: {{ stat.avg_sentencelength }}<br>
					Minimum Number of Characters In Sentence: {{ stat.min_sentencelength }}<br>
					Maximum Number of Characters In Sentence: {{ stat.max_sentencelength }}<br>
					Average Number of Characters In File : {{ stat.avg_filelength }}<br>
					Minimum Number of Characters In File: {{ stat.min_filelength }}<br>
					Maximum Number of Characters In File: {{ stat.max_filelength }}<br>
					Average Number of Words In Sentence: {{ stat.avg_sentencewords }}<br>
					Minimum Number of Words In Sentence: {{ stat.min_sentencewords }}<br>		         
					Maximum Number of Words In Sentence: {{ stat.max_sentencewords }}<br>
					Average Number of Words In File: {{ stat.avg_filewords }}<br>
					Minimum Number of Words In File: {{ stat.min_filewords }}<br>
					Maximum Number of Words In File: {{ stat.max_filewords }}<br>
		        {% endfor %}
		      </div>
		    </div>
		  </div>
		</div>
	<div class="row-fluid">
	{% if error_message %}
		<div class="alert"><p><strong>{{ error_message }}</strong></p></div>
	{% endif %}
	</div>
	<div class="row-fluid">
		<h3>Total number of words: {{total_filewords}}</h2>
		<h3>Total number of unique words: {{ words_list|length }}</h2>
	</div>
	<table class="table table-striped table-hover tablesorter">
		<thead>
		  <tr>
		    <th>ID</th>
		    <th>Word</th>
		    <th>Appearances</th>
		  </tr>
		</thead>
		<tbody>
			{% for fileword in words_list %}
			    	<tr class='clickableRow {% if not file.fileloaded %} warning {% endif %}' href='{% url 'files.views.fileword_detail' file.id fileword.word__id %}' style="cursor: pointer;">
				        <td>{{ fileword.word__id }}</td>
				        <td>{{ fileword.word__value }}</td>
				        <td><span class="badge">{{ fileword.total }}</span></td>
			        </tr>
			{% endfor %}
		</tbody>
	</table>
{% endblock %}
{% block footer %}
    <script src="{% static "jquery.filtertable.min.js" %}"></script>
    <script src="{% static "jquery.tablesorter.min.js" %}"></script>
    <script>
    $(document).ready(function() {
        $('table').filterTable({ // apply filterTable to all tables on this page
        	label: 'Search', // use the existing input instead of creating a new one,
        	placeholder: 'Search by any column'
        });
    });
    </script>
    <script>
    $(document).ready(function() 
    	    { 
    	        $('table').tablesorter(); 
    	    } 
    	); 
    </script>        
	<script>
		$('.collapse').collapse()
	</script>	    
{% endblock %}